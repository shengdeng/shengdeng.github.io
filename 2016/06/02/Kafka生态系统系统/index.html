<!DOCTYPE HTML>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">

    

    <title>Kafka生态系统系统 | 邓晟Stefan&#39;s Techblog：大数据、专业英语、读书笔记、启示录</title>
    <meta name="author" content="Sheng Deng">
    
    <meta name="description" content="Tec &amp; Life">
    
    
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

    <meta property="og:title" content="Kafka生态系统系统"/>
    <meta property="og:site_name" content="Stefan&#39;s blog"/>

    
    <meta property="og:image" content="undefined"/>
    

    <link rel="icon" type="image/png" href="/favicon.png">
    <link rel="alternate" href="/atom.xml" title="Stefan&#39;s blog" type="application/atom+xml">
    <link rel="stylesheet" href="/css/lib/materialize.min.css">
    <link rel="stylesheet" href="/css/lib/font-awesome.min.css">
    <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">

    
        <link rel="stylesheet" href="/css/lib/atelier-seaside-light.css" type="text/css">
    
    <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
</head>


<body>
    <img src="/weixin_favicon.png" style="position: absolute; left: -9999px; opacity: 0; filter: alpha(opacity=0);">

    <nav class="blue-grey darken-3">
    <div class="nav-wrapper">
        <a href="#" data-activates="main-menu" class="button-collapse">
            <i class="fa fa-navicon"></i>
        </a>
        <div class="">
            <a href="/" class="brand-logo hide-on-med-and-down">Stefan&#39;s blog</a>
            <ul class="right hide-on-med-and-down">
                
                    <li>
                        <a class="menu-home " href="/" >
                            <i class="fa fa-home "></i>
                            
                            Home
                        </a>
                    </li>
                
                    <li>
                        <a class="menu-archive " href="/archives" >
                            <i class="fa fa-archive "></i>
                            
                            Archives
                        </a>
                    </li>
                
                    <li>
                        <a class="menu-category category-menu" href="javascript:;" data-activates="category-menu" >
                            <i class="fa fa-bookmark "></i>
                            
                            Categories
                        </a>
                    </li>
                
                    <li>
                        <a class="menu-reading " href="/reading" >
                            <i class="fa fa-book "></i>
                            
                            Reading
                        </a>
                    </li>
                
                    <li>
                        <a class="menu-about " href="/about" >
                            <i class="fa fa-user "></i>
                            
                            About
                        </a>
                    </li>
                
                    <li>
                        <a class="menu-search modal-trigger " href="#search" >
                            <i class="fa fa-search "></i>
                            
                            Search
                        </a>
                    </li>
                
            </ul>
            <div>
    <ul class="side-nav cyan darken-4" id="main-menu">
        
        <li class="side-user">
            <div class="row">
                <div class="col s4 no-padding">
                    <img class="avatar-image circle responsive-img" src="http://7xtorv.com2.z0.glb.clouddn.com/IMG_20160417_172813.jpg" alt="User Avatar">
                </div>
                <div class="info col s8 valign-wrapper no-padding">
                    <div class="valign">
                        <p class="name">邓晟Stefan</p>
                        <p class="desc">Spark/Kafka/Scala</p>
                    </div>
                </div>
            </div>
        </li>
        

        
            <li class="no-padding">
                <a class="waves-effect menu-home " href="/" >
                    <i class="fa fa-home "></i>
                    
                    Home
                </a>
            </li>
        
            <li class="no-padding">
                <a class="waves-effect menu-archive " href="/archives" >
                    <i class="fa fa-archive "></i>
                    
                    Archives
                </a>
            </li>
        
            <li class="no-padding">
                <a class="waves-effect menu-category category-menu" href="javascript:;" data-activates="category-menu" >
                    <i class="fa fa-bookmark "></i>
                    
                    Categories
                </a>
            </li>
        
            <li class="no-padding">
                <a class="waves-effect menu-reading " href="/reading" >
                    <i class="fa fa-book "></i>
                    
                    Reading
                </a>
            </li>
        
            <li class="no-padding">
                <a class="waves-effect menu-about " href="/about" >
                    <i class="fa fa-user "></i>
                    
                    About
                </a>
            </li>
        
            <li class="no-padding">
                <a class="waves-effect menu-search modal-trigger " href="#search" >
                    <i class="fa fa-search "></i>
                    
                    Search
                </a>
            </li>
        
    </ul>

    <ul class="side-nav cyan darken-4" id="category-menu">
    

            

            <li class="collapse-level-0" collapse-level="0">
                <a class="no-padding" href="/categories/专业英语/">
                    专业英语 <span class="right">1</span></a>
                </a>
            </li>

        

            <li class="collapse-level-1" collapse-level="1">
                <a class="no-padding" href="/categories/专业英语/单词/">
                    单词 <span class="right">1</span></a>
                </a>
            </li>

        

            <li class="collapse-level-2" collapse-level="2">
                <a class="no-padding" href="/categories/专业英语/单词/词汇辨析/">
                    词汇辨析 <span class="right">1</span></a>
                </a>
            </li>

        

            <li class="collapse-level-0" collapse-level="0">
                <a class="no-padding" href="/categories/我的技术栈/">
                    我的技术栈 <span class="right">10</span></a>
                </a>
            </li>

        

            <li class="collapse-level-1" collapse-level="1">
                <a class="no-padding" href="/categories/我的技术栈/Spark/">
                    Spark <span class="right">4</span></a>
                </a>
            </li>

        

            <li class="collapse-level-2" collapse-level="2">
                <a class="no-padding" href="/categories/我的技术栈/Spark/学习笔记/">
                    学习笔记 <span class="right">3</span></a>
                </a>
            </li>

        

            <li class="collapse-level-2" collapse-level="2">
                <a class="no-padding" href="/categories/我的技术栈/Spark/官网翻译/">
                    官网翻译 <span class="right">1</span></a>
                </a>
            </li>

        

            <li class="collapse-level-1" collapse-level="1">
                <a class="no-padding" href="/categories/我的技术栈/Kafka/">
                    Kafka <span class="right">3</span></a>
                </a>
            </li>

        

            <li class="collapse-level-2" collapse-level="2">
                <a class="no-padding" href="/categories/我的技术栈/Kafka/官网翻译/">
                    官网翻译 <span class="right">1</span></a>
                </a>
            </li>

        

            <li class="collapse-level-2" collapse-level="2">
                <a class="no-padding" href="/categories/我的技术栈/Kafka/学习笔记/">
                    学习笔记 <span class="right">2</span></a>
                </a>
            </li>

        

            <li class="collapse-level-1" collapse-level="1">
                <a class="no-padding" href="/categories/我的技术栈/Linux/">
                    Linux <span class="right">3</span></a>
                </a>
            </li>

        

            <li class="collapse-level-2" collapse-level="2">
                <a class="no-padding" href="/categories/我的技术栈/Linux/安装笔记/">
                    安装笔记 <span class="right">3</span></a>
                </a>
            </li>

        

            <li class="collapse-level-0" collapse-level="0">
                <a class="no-padding" href="/categories/阅读笔记/">
                    阅读笔记 <span class="right">1</span></a>
                </a>
            </li>

        

            <li class="collapse-level-1" collapse-level="1">
                <a class="no-padding" href="/categories/阅读笔记/自我管理/">
                    自我管理 <span class="right">1</span></a>
                </a>
            </li>

        

    </ul>
</div>

        </div>
    </div>
</nav>

<div id="search" class="modal search-modal">
    <div class="row">
        <div class="input-field col s12">
              <input id="search-input" type="text">
              <label for="search-input">Search</label>
        </div>

    </div>
    <div id="search-result" class="search-result col s12">

    </div>
</div>


    <main>
        <div class="container main-container">
    <nav class="page-nav hide-on-small-only">
    <div class="nav-wrapper blue-grey darken-3">
        <span class="breadcrumb">Current page(Categories)</span>
        
            
    
    
    <a class="breadcrumb" href="/categories/我的技术栈/">我的技术栈</a><a class="breadcrumb" href="/categories/我的技术栈/Kafka/">Kafka</a><a class="breadcrumb" href="/categories/我的技术栈/Kafka/学习笔记/">学习笔记</a>


        

        
    </div>
</nav>

<article>
    <div class="card">
        <div class="card-content">
            

            <div class="article-title">
                
    
        <h1>Kafka生态系统系统</h1>
    


            </div>
            <time class="pink-link-context" datetime="2016-06-02T03:36:41.000Z"><a href="/2016/06/02/Kafka生态系统系统/">2016-06-02</a></time>

            
    <div class="tags-row">
        
            <a href="/tags/Kafka/" class="chip teal darken-1">Kafka</a>
        
    </div>


            <div class="toc pink-link-context hide-on-med-and-down">
    <ol class="section table-of-contents"><li class="section table-of-contents-item section table-of-contents-level-1"><a class="section table-of-contents-link" href="#1-Kafka-Connect"><span class="section table-of-contents-text">1.Kafka Connect</span></a></li><li class="section table-of-contents-item section table-of-contents-level-1"><a class="section table-of-contents-link" href="#2-Distributions-amp-Packaging"><span class="section table-of-contents-text">2.Distributions & Packaging</span></a></li><li class="section table-of-contents-item section table-of-contents-level-1"><a class="section table-of-contents-link" href="#与流处理框架集成-Stream-Processing"><span class="section table-of-contents-text">与流处理框架集成(Stream Processing)</span></a></li><li class="section table-of-contents-item section table-of-contents-level-1"><a class="section table-of-contents-link" href="#与Hadoop-集成-Integration"><span class="section table-of-contents-text">与Hadoop 集成(Integration)</span></a></li></ol>
</div>


            <div class="entry pink-link-context">
                <p>Here is a list of tools we have been told about that integrate with Kafka outside the main distribution. </p>
<p>We haven’t tried them all, so they may not work!<br>Clients, of course, are listed separately here.</p>
<h1 id="1-Kafka-Connect"><a href="#1-Kafka-Connect" class="headerlink" title="1.Kafka Connect"></a>1.Kafka Connect</h1><p>Kafka has a built-in framework called Kafka Connect for writing sources and sinks that either continuously ingest data into Kafka or continuously ingest data in Kafka into external systems. The connectors themselves for different applications or data systems are federated and maintained separately from the main code base. You can find a list of them here.</p>
<h1 id="2-Distributions-amp-Packaging"><a href="#2-Distributions-amp-Packaging" class="headerlink" title="2.Distributions &amp; Packaging"></a>2.Distributions &amp; Packaging</h1><ul>
<li>Confluent Platform - <a href="http://confluent.io/product/" target="_blank" rel="external">http://confluent.io/product/</a>. Downloads - <a href="http://confluent.io/downloads/" target="_blank" rel="external">http://confluent.io/downloads/</a>.</li>
<li>Cloudera Kafka source <a href="https://github.com/cloudera-labs/kafka/tree/cdh5-0.8.2_1.1.0" target="_blank" rel="external">https://github.com/cloudera-labs/kafka/tree/cdh5-0.8.2_1.1.0</a> and release <a href="http://www.cloudera.com/content/cloudera/en/developers/home/cloudera-labs/apache-kafka.html" target="_blank" rel="external">http://www.cloudera.com/content/cloudera/en/developers/home/cloudera-labs/apache-kafka.html</a></li>
<li>Hortonworks Kafka source and release <a href="http://hortonworks.com/hadoop/kafka/" target="_blank" rel="external">http://hortonworks.com/hadoop/kafka/</a><br>Stratio Kafka source for ubuntu <a href="http://repository.stratio.com/sds/1.1/ubuntu/13.10/binary/" target="_blank" rel="external">http://repository.stratio.com/sds/1.1/ubuntu/13.10/binary/</a> and for RHEL <a href="http://repository.stratio.com/sds/1.1/RHEL/" target="_blank" rel="external">http://repository.stratio.com/sds/1.1/RHEL/</a></li>
<li>IBM Message Hub - <a href="https://developer.ibm.com/messaging/message-hub/" target="_blank" rel="external">https://developer.ibm.com/messaging/message-hub/</a> - Kafka as-a-service in a IBM’s Bluemix PaaS</li>
</ul>
<h1 id="与流处理框架集成-Stream-Processing"><a href="#与流处理框架集成-Stream-Processing" class="headerlink" title="与流处理框架集成(Stream Processing)"></a>与流处理框架集成(Stream Processing)</h1><ul>
<li><strong>Kafka Streams </strong>Built-in library as part of the Kafka project.</li>
<li><strong>Storm</strong> A stream-processing framework.</li>
<li><strong>Samza</strong> A YARN-based stream processing framework.</li>
<li><strong>Storm Spout</strong> Consume messages from Kafka and emit as Storm tuples</li>
<li><strong>Kafka-Storm</strong> Kafka 0.8, Storm 0.9, Avro integration</li>
<li>[x] <strong>SparkStreaming</strong> Kafka receiver supports Kafka 0.8 and above</li>
<li><strong>Flink</strong> Apache Flink has an integration with Kafka</li>
<li><strong>IBM Streams</strong> A stream processing framework with Kafka source and sink to consume and produce Kafka messages <h1 id="与Hadoop-集成-Integration"><a href="#与Hadoop-集成-Integration" class="headerlink" title="与Hadoop 集成(Integration)"></a>与Hadoop 集成(Integration)</h1></li>
<li>Kafka Connect sink A sink for Kafka’s connector framework.</li>
<li>Camus LinkedIn’s Kafka=&gt;HDFS pipeline. This one is used for all data at LinkedIn, and works great.<br>Kafka Hadoop Loader A different take on Hadoop loading functionality from what is included in the main distribution.<br>Flume - Contains Kafka Source (consumer) and Sink (producer)<br>KaBoom - A high-performance HDFS data loader<br>Search and Query<br>ElasticSearch - This project, Kafka Standalone Consumer will read the messages from Kafka, processes and index them in ElasticSearch. There are also several Kafka Connect connectors for ElasticSeach.<br>Presto - The Presto Kafka connector allows you to query Kafka in SQL using Presto.<br>Hive - Hive SerDe that allows querying Kafka (Avro only for now) using Hive SQL<br>Management Consoles<br>Kafka Manager - A tool for managing Apache Kafka.<br>kafkat - Simplified command-line administration for Kafka brokers.<br>Kafka Web Console- Displays information about your Kafka cluster including which nodes are up and what topics they host data for.<br>Kafka Offset Monitor - Displays the state of all consumers and how far behind the head of the stream they are.<br>Capillary – Displays the state and deltas of Kafka-based Apache Storm topologies. Supports Kafka &gt;= 0.8. It also provides an API for fetching this information for monitoring purposes.<br>AWS Integration<br>Automated AWS deployment<br>Kafka -&gt; S3 Mirroring tool from Pinterest.<br>Alternative Kafka-&gt;S3 Mirroring tool<br>Logging<br>syslog (1M)<br>syslog producer : A producer that supports both raw data and protobuf with meta data for deep analytics usage.<br>syslog-ng (<a href="https://syslog-ng.org/" target="_blank" rel="external">https://syslog-ng.org/</a>) is one of the most widely used open source log collection tools, capable of filtering, classifying, parsing log data and forwarding it to a wide variety of destinations. Kafka is a first-class destination in the syslog-ng tool; details on the integration can be found at <a href="https://czanik.blogs.balabit.com/2015/11/kafka-and-syslog-ng/" target="_blank" rel="external">https://czanik.blogs.balabit.com/2015/11/kafka-and-syslog-ng/</a> .<br>klogd - A python syslog publisher<br>klogd2 - A java syslog publisher<br>Tail2Kafka - A simple log tailing utility<br>Fluentd plugin - Integration with Fluentd<br>Remote log viewer<br>LogStash integration - Integration with LogStash and Fluentd<br>Syslog Collector written in Go<br>Klogger - A simple proxy service for Kafka.<br>fuse-kafka: A file system logging agent based on Kafka<br>omkafka: Another syslog integration, this one in C and uses librdkafka library<br>logkafka - Collect logs and send lines to Apache Kafka<br>Flume - Kafka plugins<br>Flume Kafka Plugin - Integration with Flume<br>Kafka as a sink and source in Flume - Integration with Flume<br>Metrics<br>Mozilla Metrics Service - A Kafka and Protocol Buffers based metrics and logging system<br>Ganglia Integration<br>SPM for Kafka<br>Coda Hale Metric Reporter to Kafka<br>Packing and Deployment<br>RPM packaging<br>Debian packaging<a href="https://github.com/tomdz/kafka-deb-packaging" target="_blank" rel="external">https://github.com/tomdz/kafka-deb-packaging</a><br>Puppet Integration<br><a href="https://github.com/miguno/puppet-kafka" target="_blank" rel="external">https://github.com/miguno/puppet-kafka</a><br><a href="https://github.com/whisklabs/puppet-kafka" target="_blank" rel="external">https://github.com/whisklabs/puppet-kafka</a><br>Dropwizard packaging<br>Kafka Camel Integration<br><a href="https://github.com/ipolyzos/camel-kafka" target="_blank" rel="external">https://github.com/ipolyzos/camel-kafka</a><br><a href="https://github.com/BreizhBeans/camel-kafka" target="_blank" rel="external">https://github.com/BreizhBeans/camel-kafka</a><br>Misc.<br>Kafka Websocket - A proxy that interoperates with websockets for delivering Kafka data to browsers.<br>KafkaCat - A native, command line producer and consumer.<br>Kafka Mirror - An alternative to the built-in mirroring tool<br>Ruby Demo App<br>Apache Camel Integration<br>Infobright integration<br>Riemann Consumer of Metrics<br>stormkafkamom – curses-based tool which displays state of Apache Storm based Kafka consumers (Kafka 0.7 only).</li>
</ul>

            </div>
        </div>
    </div>
</article>




    <section id="comment">
        <div class="card">
            <div class="card-content">
                <!-- Duoshuo Comment BEGIN -->
                <div class="ds-thread" data-thread-key="2016/06/02/Kafka生态系统系统/" data-title="Kafka生态系统系统" data-url="http://shengdeng.github.io/2016/06/02/Kafka生态系统系统/"></div>

                <script type="text/javascript">
                    console.log(document.querySelector('.ds-thread'));
                    var duoshuoQuery = {
                        short_name: 'shengdeng'
                    };
                    (function() {
                        var ds = document.createElement('script');
                        ds.type = 'text/javascript';
                        ds.async = true;
                        ds.src = (document.location.protocol == 'https:'
                            ? 'https:'
                            : 'http:') + '//static.duoshuo.com/embed.js';
                        ds.charset = 'UTF-8';
                        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(ds);
                    })();
                </script>
                <!-- Duoshuo Comment END -->
            </div>
        </div>
    </section>



</div>

        <div class="fixed-action-btn float-sitemap">
    <a class="btn-floating btn-large blue lighten-1">
      <i class="fa fa-caret-square-o-up"></i>
    </a>
    <ul>
      <li><a class="btn-return-top btn-floating waves-effect red lighten-2" title="Return to top"><i class="fa fa-arrow-circle-o-up"></i></a></li>
      <li><a class="btn-floating waves-effect button-collapse orange lighten-2"  data-activates="main-menu" title="menu"><i class="fa fa-navicon"></i></a></li>
    </ul>
  </div>

    </main>
    <footer class="page-footer blue-grey darken-3 darken-1">
    
    <div class="container">
        <div class="row">
            
            <div class="social-group col m3 s12">
                <h5 class="white-text">Social</h5>
                
                    <a class="social-link" href="https://github.com/shengdeng" target="_blank">
                        <i class="fa fa-2x fa-weibo"></i>
                    </a>
                
                    <a class="social-link" href="https://github.com/shengdeng" target="_blank">
                        <i class="fa fa-2x fa-github"></i>
                    </a>
                
                    <a class="social-link" href="/atom.xml" target="_blank">
                        <i class="fa fa-2x fa-rss"></i>
                    </a>
                
            </div>
            

            
            <div class="col m9 s12">
                <h5 class="white-text">Links</h5>
                
                    <a class="social-link" href="https://github.com/shengdeng" target="_blank">Stafan 专注大数据分析</a>
                
                    <a class="social-link" href="https://github.com/shengdeng" target="_blank">Github地址</a>
                
            </div>
            
        </div>
    </div>
    

    <div class="footer-copyright pink-link-context">
        <div class="container">
            © 2016 http://shengdeng.github.io/, All rights reserved.
            <p class="right" style="margin-top: 0;">Blog powered by <a href="https://hexo.io">Hexo</a> | Theme <a href="https://github.com/shengdeng/shengdeng.github.io">stefanForest</a></p>
        </div>
    </div>
</footer>


    <noscript>
    <div class="noscript">
        <p class="center-align">当前网速较慢或者你使用的浏览器不支持博客特定功能，请尝试刷新或换用Chrome、Firefox等现代浏览器</p>
    </div>
</noscript>
<div class="noscript">
    <p class="center-align">当前网速较慢或者你使用的浏览器不支持博客特定功能，请尝试刷新或换用Chrome、Firefox等现代浏览器</p>
</div>


<script src="/js/jquery-2.1.1.min.js"></script>
<script src="/js/materialize.min.js"></script>

<script>
    (function($) {
        $(document).ready(function() {
            // 隐藏禁用javascript（针对微信内置浏览器）的提示
            $('.noscript').hide();

            // 图片缩放效果
            var $imgs = $('img').not('.slider-image').not('.avatar-image').not('.carousel-image').not('.card-cover-image').not('.qrcode');

            // 给图片加上点击放大效果（materialbox插件）
            $imgs.addClass('materialboxed').each(function(i, el) {
                $(this).attr('data-caption', $(this).attr('alt') || ' ');
            }).materialbox();

            // 优化表格的显示
            $('table').each(function() {
                var $table = $(this);
                // 除去多行代码的情况
                if ($table.find('pre').length == 0) {
                    $table.addClass('responsive-table striped bordered');
                }
            });

            // 首页幻灯片
            $('.slider').slider({indicators: true, full_width: true, interval: 8000});

            $(".button-collapse").sideNav();
            $(".category-menu").sideNav();

            // 针对gallery post
            $('.carousel').carousel({full_width: true});
            $('.carousel-control.prev').click(function() {
                $('.carousel').carousel('prev');
            });
            $('.carousel-control.next').click(function() {
                $('.carousel').carousel('next');
            });

            // 文章目录
            $('article').not('.simple-article').find('h1').add('h2').add('h3').add('h4').add('h5').add('h6').scrollSpy();
            // 修正文章目录的left-border颜色
            var color = $('.table-of-contents-text').css('color');
            $('.table-of-contents-link').css('border-left-color', color);

            // 针对移动端做的优化：FAB按钮点击一下收回
            if (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)) {
                $('.fixed-action-btn').addClass('click-to-toggle');
            }
            // 回到顶部
            $('.btn-return-top').click(function() {
                $('body, html').animate({
                    scrollTop: 0
                }, 500);
            });

            // 重置读书页面的Tab标签页的颜色
            $('li.tab a').hover(function() {
                $(this).toggleClass('text-lighten-4');
            });
            $('.indicator').addClass('pink lighten-2');

            
            // 添加new标签
            $('').append('<span class="new badge pink"></span>');
            

            // 搜索功能
            $('.modal-trigger').leanModal();
            var searchXml = "search.xml";
            if (searchXml.length == 0) {
             	searchXml = "search.xml";
            }
            var searchPath = "/" + searchXml;
            initSearch(searchPath, 'search-input', 'search-result');
        });

        // 初始化搜索与匹配函数
        var initSearch = function(path, search_id, content_id) {
            'use strict';
            $.ajax({
                url: path,
                dataType: "xml",
                success: function(xmlResponse) {
                    // get the contents from search data
                    var datas = $("entry", xmlResponse).map(function() {
                        return {
                            title: $("title", this).text(),
                            content: $("content", this).text(),
                            url: $("url", this).text()
                        };
                    }).get();
                    var $input = document.getElementById(search_id);
                    var $resultContent = document.getElementById(content_id);
                    $input.addEventListener('input', function() {
                        var str = '<ul class=\"search-result-list\">';
                        var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
                        $resultContent.innerHTML = "";
                        if (this.value.trim().length <= 0) {
                            return;
                        }
                        // perform local searching
                        datas.forEach(function(data) {
                            var isMatch = true;
                            var content_index = [];
                            var data_title = data.title.trim().toLowerCase();
                            var data_content = data.content.trim().replace(/<[^>]+>/g, "").toLowerCase();
                            var data_url = data.url;
                            var index_title = -1;
                            var index_content = -1;
                            var first_occur = -1;
                            // only match artiles with not empty titles and contents
                            if (data_title != '' && data_content != '') {
                                keywords.forEach(function(keyword, i) {
                                    index_title = data_title.indexOf(keyword);
                                    index_content = data_content.indexOf(keyword);
                                    if (index_title < 0 && index_content < 0) {
                                        isMatch = false;
                                    } else {
                                        if (index_content < 0) {
                                            index_content = 0;
                                        }
                                        if (i == 0) {
                                            first_occur = index_content;
                                        }
                                    }
                                });
                            }
                            // show search results
                            if (isMatch) {
                                keywords.forEach(function(keyword) {
                                    var regS = new RegExp(keyword, "gi");
                                    data_title = data_title.replace(regS, "<span class=\"search-keyword pink lighten-2\">" + keyword + "</span>");
                                });

                                str += "<li><a href='" + data_url + "' class='search-result-title'>" + data_title + "</a>";
                                var content = data.content.trim().replace(/<[^>]+>/g, "");
                                if (first_occur >= 0) {
                                    // cut out 100 characters
                                    var start = first_occur - 20;
                                    var end = first_occur + 80;
                                    if (start < 0) {
                                        start = 0;
                                    }
                                    if (start == 0) {
                                        end = 100;
                                    }
                                    if (end > content.length) {
                                        end = content.length;
                                    }
                                    var match_content = content.substring(start, end);
                                    // highlight all keywords
                                    keywords.forEach(function(keyword) {
                                        var regS = new RegExp(keyword, "gi");
                                        match_content = match_content.replace(regS, "<span class=\"search-keyword pink lighten-2\">" + keyword + "</span>");
                                    });

                                    str += "<p class=\"search-result\">..." + match_content + "...</p>"
                                }
                                str += "</li>";
                            }
                        });
                        str += "</ul>";
                        $resultContent.innerHTML = str;
                    });
                }
            });
        }
    })(jQuery);
</script>


<script src="/js/prettify.js"></script>
<script type="text/javascript">
    $(document).ready(function() {
        $("pre").addClass("prettyprint");
        prettyPrint();
    });
</script>


<script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-77353762-1', 'auto');
    ga('send', 'pageview');

</script>



<script type="text/javascript" src="http://tajs.qq.com/stats?sId=56016042" charset="UTF-8"></script>





</body>
</html>
